function applyCardTypeIcon(){var g,d,k,m,c,h,l,f,o,i,j,a,e,b=[].slice,n=[].indexOf||function(r){for(var q=0,p=this.length;q<p;q++){if(q in this&&this[q]===r){return q;}}return -1;};g=window.jQuery||window.Zepto||window.$;g.logo={};g.logo.fn={};g.fn.logo=function(){var p,q;q=arguments[0],p=2<=arguments.length?b.call(arguments,1):[];return g.logo.fn[q].apply(this,p);};g.logo.cardsList=k=commonCardsList;d=function(p){return commonFindCardType(p);};h=function(p){var q;if((p.prop("selectionStart")!=null)&&p.prop("selectionStart")!==p.prop("selectionEnd")){return true;}if((typeof document!=="undefined"&&document!==null?(q=document.selection)!=null?q.createRange:void 0:void 0)!=null){if(document.selection.createRange().text){return true;}}return false;};a=function(s,p){var u,q,r;try{u=p.prop("selectionStart");}catch(t){q=t;u=null;}r=p.val();p.val(s);if(u!==null&&p.is(":focus")){if(u===r.length){u=s.length;}p.prop("selectionStart",u);return p.prop("selectionEnd",u);}};o=function(s){var t,q,v,r,x,w,p,u;if(s==null){s="";}v="\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19";r="0123456789";w="";t=s.split("");for(p=0,u=t.length;p<u;p++){q=t[p];x=v.indexOf(q);if(x>-1){q=r[x];}w+=q;}return w;};l=function(p){return setTimeout(function(){var q,r;q=g(p.currentTarget);r=q.val();r=o(r);r=g.logo.formatCardNumber(r);return a(r,q);});};c=function(u){var p,q,w,s,r,v,t;w=String.fromCharCode(u.which);if(!/^\d+$/.test(w)){return;}p=g(u.currentTarget);t=p.val();q=d(t+w);s=(t.replace(/\D/g,"")+w).length;v=20;if(q){v=q.length[q.length.length-1];}if(s>=v){return;}if((p.prop("selectionStart")!=null)&&p.prop("selectionStart")!==t.length){return;}if(q&&q.type==="amex"){r=/^(\d{4}|\d{4}\s\d{6})$/;}else{r=/(?:^|\s)(\d{4})$/;}if(r.test(t)){u.preventDefault();return setTimeout(function(){p.val(t+" "+w);p.trigger("input");});}else{if(r.test(t+w)){u.preventDefault();return setTimeout(function(){p.val(t+w+" ");p.trigger("input");});}}};m=function(r){var p,q;p=g(r.currentTarget);q=p.val();if(r.which!==8){return;}if((p.prop("selectionStart")!=null)&&p.prop("selectionStart")!==q.length){return;}if(/\d\s$/.test(q)){r.preventDefault();return setTimeout(function(){p.val(q.replace(/\d\s$/,""));p.trigger("input");});}else{if(/\s\d?$/.test(q)){r.preventDefault();return setTimeout(function(){p.val(q.replace(/\d$/,""));p.trigger("input");});}}};j=function(q){var p;if(q.metaKey||q.ctrlKey){return true;}if(q.which===32){return false;}if(q.which===0){return true;}if(q.which<33){return true;}p=String.fromCharCode(q.which);return !!/[\d\s]/.test(p);};g.logo.fn.formatCardNumber=function(){this.on("keypress",j);this.on("keypress",i);this.on("keypress",c);this.on("keydown",m);this.on("paste change input",l);this.on("keyup input cardType-updated cardType-update-failed",e);return this;};g.logo.fn.onlyNumbers=function(){this.on("keypress",j);this.on("paste change input",f);return this;};f=function(p){return setTimeout(function(){var q,r;q=g(p.currentTarget);r=q.val();r=o(r);r=r.replace(/\D/g,"");return a(r,q);});};e=function(t){var q,s,r,p,u;q=g(t.currentTarget);u=q.val();p=g.logo.cardType(u)||"unknown";if(!q.hasClass(p)){s=(function(){var x,w,v;v=[];for(x=0,w=k.length;x<w;x++){r=k[x];v.push(r.type);}return v;})();q.removeClass("unknown");q.removeClass(s.join(" "));isImageTypeSvg&&q.removeClass("visaSvg");(p=="visa"&&isImageTypeSvg)?q.addClass("visaSvg"):q.addClass(p);q.toggleClass("identified",p!=="unknown");return q.trigger("payment.cardType",p);}};g.logo.cardType=function(p){var q;if(!p){return null;}return((q=d(p))!=null?q.type:void 0)||null;};i=function(s){var p,q,t,r;p=g(s.currentTarget);t=String.fromCharCode(s.which);if(!/^\d+$/.test(t)){return;}if(h(p)){return;}r=(p.val()+t).replace(/\D/g,"");q=d(r);if(q){return r.length<=q.length[q.length.length-1];}else{return r.length<=20;}};g.logo.formatCardNumber=function(r){var q,p,t,s;r=r.replace(/\D/g,"");q=d(r);if(!q){return r;}t=q.length[q.length.length-1];r=r.slice(0,t);if(q.format.global){return(s=r.match(q.format))!=null?s.join(" "):void 0;}else{p=q.format.exec(r);if(p==null){return;}p.shift();p=g.grep(p,function(u){return u;});return p.join(" ");}};g("#cardNumber").logo("formatCardNumber");}$(function(){if(cardTypeIcon){applyCardTypeIcon();}});