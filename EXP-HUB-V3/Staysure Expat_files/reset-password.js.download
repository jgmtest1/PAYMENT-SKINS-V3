$(document).ready(function(){$("#resetPassword").on("click",function(a){a.preventDefault();$("#newpassword").val("");$("#newconfirmpassword").val("");$("#resetPasswordError").hide();$("#resetPasswordDialog").modal("show")});resetPassword=function(){$("#resetPasswordError").hide();var a=$("#newpassword").val(),b=$("#newconfirmpassword").val(),c=[];null!=a&&0!=a.trim().length||c.push("Password is required.");null!=b&&0!=b.trim().length||c.push("Confirm password is required.");a!=b&&c.push("Password and confirm password should be equal.");
null!=a&&6>a.length&&c.push("Your new password must be at least 6 Characters long.");null!=a&&-1<a.indexOf(" ")&&c.push("Spaces are not permitted in the password.");3>=checkStrength(a)&&(c.push("You should enter a strong password."),c.push("Password should satisfy all of below criteria.\x3cbr\x3eI. Must contain at least 6 Characters.\x3cbr\x3eII. Must contain lower and upper case Characters.\x3cbr\x3eIII. Must contains at least 1 number.\x3cbr\x3eIV. Must contain at least 1 special Character. (i.e # ! \u00a3 %)."));
0==c.length?$.ajax({type:"POST",url:"/@hub.context@/resetHubLoggedInUserPassword",data:JSON.stringify({confirmPassword:a}),contentType:"application/json",success:function(a){$("#resetPasswordDialog").hide();$("#resetPasswordMessageDialog").modal("show")}}):($("#resetPasswordErrors").empty(),$.each(c,function(a,b){$("#resetPasswordErrors").append("\x3cli\x3e"+b+"\x3c/li\x3e")}),$("#resetPasswordError").show())};checkStrength=function(a){var b=0;null!=a&&(6<a.length&&b++,a.match(/[a-z]/)&&a.match(/[A-Z]/)&&
b++,a.match(/\d+/)&&b++,a.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&b++,12<a.length&&b++);return b};$("#resetPasswordMessageDialog").on("hidden.bs.modal",function(){logout()})});